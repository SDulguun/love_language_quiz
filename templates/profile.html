{% extends "base.html" %}

{% block content %}
<div class="container">
    <i class="fa-solid fa-user-circle icon-heart"></i>
    <h1>Hello, {{ user }}!</h1>
    <p class="subtitle">View your quiz history and track your love language journey.</p>

    <a href="{{ url_for('home') }}" class="btn" style="margin-bottom: 32px;">
        <i class="fa-solid fa-play"></i>
        Take Quiz
    </a>

    <div class="history-section" style="margin-top: 0; padding-top: 0; border-top: none;">
        <h2 class="history-title">
            <i class="fa-solid fa-history"></i>
            Your Quiz History
        </h2>

        {% if history %}
            {% for item in history|reverse %}
            <div class="history-item">
                <div class="history-result">{{ item.result }}</div>
                <div class="history-date">{{ item.date }}</div>
                {% if item.scores %}
                <div class="history-scores">
                    {% for lang, score in item.scores.items() %}
                    <span class="mini-score">{{ score }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <p class="no-history">You haven't taken any quizzes yet. Take your first quiz to see your results here!</p>
        {% endif %}
    </div>
</div>
{% endblock %}
